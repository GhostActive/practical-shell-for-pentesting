# Fish Functions

* [Item 1](#item-1-ccd): ccd - Create and change directory 
* [Item 2](#item-2-flush-history): flush-history - Delete and prefill fish history

**Installation**

1. Clone repository (Skip this step if already done)
```bash
git clone https://github.com/GhostActive/practical-shell-for-pentesting.git
```
2. Goto subfolder `fish/` and copy the functions to folder `~/.config/fish/functions`
```bash
cd practical-shell-for-pentesting/fish/ && cp *.fish ~/.config/fish/functions/
```

## Item 1: ccd

```
$ ccd --help

ccd - Create and change directory

Usage: ccd [DIRECTORY]

Options:
    -h, --help      Print this help message

Description:
    'Atomic' operation to create a new directory before changing to it.
    If the given directory already exists, than only change.

    Handling of special folder names
        ccd ~       Jump to home folder of current user
        ccd -       Return to the previous visited folder
        ccd .       Change to current folder - 'Do nothing'
        ccd ..      Go upwards to parent folder

Examples:
    # Jump to home directory of current user
    ccd

    # Creates new folder 'workspace' and changes to it
    ccd workspace

    # Creates new sub folders, if not existing, and change to 'config/'
    ccd workspace/poc/config/
```

## Item 2: flush-history

```
$ flush-history --help

flush-history - Deletes and prefills the fish history

Usage: flush-history [FILE]...

Options:
    -h, --help       Prints this help text

Description:
    Deletes the fish history and prefill it with given files.
    Files for prefilling must have a valid fish history format.

    HINT: As the content of the history file is deleted, it may
          be useful to create a backup of the original one before
          starting the script, e.g.:

          cp ~/.local/share/fish/fish_history ~/history.bak

Examples:
    # Clean fish history
    flush-history

    # Clean fish history and prefill it with prepared commands
    flush-history prepared-admin-cmd.txt prepared-dev-cmd.txt
```

**Sample** - File containing commands to prefill history
```
$ cat sample-prepared-cmd.txt
- cmd: vim ~/.config/fish/config.fish; source ~/.config/fish/config.fish
  when: 0
- cmd: git add --all; git commit -m "<Message>"; git push
  when: 0
```
